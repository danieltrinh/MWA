<html>
    <head>
        <title>Lab 1 - Excercise 1 - 2 </title>
        <link rel="shortcut icon" href="#">
    </head>
    <body>
        <div id="source_string">This house is nice!</div>
        <script>
            let s = document.getElementById("source_string").textContent;

            function replaceWords(string, banned_arr)
            {
                str_arr = string.split(" ");
                str_arr = str_arr.map( (s) => 
                    {
                        if(banned_arr.includes(s))
                                    return "***";
                                else 
                                    return s;
                    }
                );
                
                return str_arr.join(" ");
            }
            
            String.prototype.filterWords2 = function(banned_arr){
                let string = this;
                return new Promise(
                    (resolve, reject) => {
                        console.log('Using Promises');
                        
                        let res = replaceWords(string, banned_arr);
                        
                        if(res !== string)
                            resolve(res);
                        else
                            reject("No match")
                    }
                )
            }
            
            let result2 = s.filterWords2(["house", "nice"])
                            .then(data => console.log("   " + data))
                            .catch(err => console.log(err));
        </script>
    </body>
</html>